@inject SignInManager<AppUser> signInManager
@inject UserManager<AppUser> userManager
@model Reservation

@{

    ViewBag.Title = "ReservationSYS  | New Reservation";

}

<div class="my-2 text-left col-12">
    <h2> Create New Reservation</h2>
    <hr />
</div>

<form class="mx-lg-auto my-5 w-50"  method="post">

    <div class="form-group">
        <label asp-for="Date_R"></label>
        <input type="datetime-local" class="form-control"
               asp-for="Date_R"
               min="2020-06-07T00:00" max="2022-06-14T00:00">
        <span asp-validation-for="Date_R" hidden class="small text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="TypeId"></label>
        <select asp-for="TypeId" class="form-control">
            <option value="">Select Type...</option>
            @foreach (ReservationType type in ViewBag.Types)
            {
                <option value="@type.Id">@type.Name</option>
            }

        </select>
        <span asp-validation-for="TypeId" hidden class="small text-danger"></span>
    </div>
    <div hidden class="form-group">
        @if (signInManager.IsSignedIn(User))
        {
            AppUser user = await userManager.FindByEmailAsync(User.Identity.Name);
            <input class="form-control" asp-for="@user.UserName">
        }

    </div>



    <button type="submit" class="btn btn-primary">Create</button>
    <div class="text text-danger" asp-validation-summary="All"></div>


</form>